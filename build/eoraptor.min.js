!function(a){function b(){var a,b,c=arguments;if(1===c.length?a=b=c[0]:(a=c[0],b=c[1]),k.cache[a])return k.cache[a];for(var d=null,e="var t__=data, r__=[];\n",f=0;d=j.exec(b);)e+=i(b.slice(f,d.index)),e+=h(d[1],!0),f=d.index+d[0].length;e+=i(b.substr(f,b.length-f)),e+='return r__.join("");';var g=function(a){var c;try{c=new Function("data","var e__=eoraptor.escape;"+e)(a)}catch(d){console.error(d.message+" from data and tpl below:"),console.log(a),console.log(b)}return c};return g.render=g,g.source="function (data) {\n"+e+"\n}",k.cache[a]=g}function c(a){var b=a.replace(/(?:"(.*?)")/g,function(a,b){return b.replace(/[\[\]]/g,"")}).replace(/(?:'(.*?)')/g,function(a,b){return b.replace(/[\[\]]/g,"")}).replace(/(\[.*?\])/g,"");return/^[^\s]+\s*([!=><]{1,3}\s*[^\s]+)?$/.test(b)}function d(a,b){a=a||"{{",b=b||"}}",j=new RegExp(e(a)+"\\s*(.+?)\\s*"+e(b),"g")}function e(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function f(a){return q[a]}function g(a){return null==a?"":""+a.replace(p,f)}function h(a){a=a.replace(l,m);var b=a[0];if(-1===n.indexOf(b))return"r__.push("+a+");\n";var d="";switch(a=a.substr(1),b){case"@":d="r__.push(e__("+a+"));\n";break;case"#":d=c(a)?"if("+a+"){\n":a.replace(o,function(a,b,c,d){return d=d||"k__","var "+d+", "+c+";\nfor("+d+" in t__"+b+"){\nif(!t__"+b+".hasOwnProperty("+d+")) return;\n"+c+" = t__"+b+"["+d+"];\n"});break;case"^":d=a?"}else if("+a+"){\n":"}else{\n";break;case"/":d="}\n";break;case">":d=a.replace(/^(\w+)\s(.+)$/,function(a,b,c){return b=b.indexOf("-")>-1?'["'+b+'"]':"."+b,"r__.push(eoraptor.cache"+b+".render("+c+"));\n"});break;case"!":}return d}function i(a){return""!=a?'r__.push("'+a.replace(/"/g,'\\"')+'");\n':""}var j=/\{\{\s*(.+?)\s*\}\}/g,k={name:"eoraptor.js",version:"1.0.0",compile:b,escape:g,cache:{},setDelimiter:d},l=/\bthis\b/g,m="t__",n="#^/@!>",o=/^t__(.+?)\s(\w+)\s?(\w+)?.*$/,p=/[&<>"']/g,q={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"};"undefined"!=typeof module&&module.exports?module.exports=k:"function"==typeof define&&define.amd?define("eoraptor",[],function(){return k}):a.eoraptor=k}(this);