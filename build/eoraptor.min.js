/*! eoraptor.js v0.1.1 2014-04-15 gnosaij http://jias.github.io/eoraptor.js/ */
!function(a){function b(){var a,b,c=arguments;if(2===c.length)a=c[0],b=c[1];else{if(1!==c.length)return void j();a=b=c[0]}if(l[a])return l[a];for(var d=null,e="var t__=data, r__=[];\n",f=0;d=k.exec(b);)e+=i(b.slice(f,d.index)),e+=h(d[1],!0),f=d.index+d[0].length;e+=i(b.substr(f,b.length-f)),e+='return r__.join("");';var g=function(a){var c;try{c=new Function("data","var e__=eoraptor.escape;"+e)(a)}catch(d){console.error(d.message+" from data and tpl below:"),console.log(a),console.log(b)}return c};return g.render=g,g.source="function (data) {\n"+e+"\n}",l[a]=g}function c(a){return a=a.replace(v,A).replace(w,A).replace(x,r).replace(y,r),z.test(a)}function d(a,b){a=a||"{{",b=b||"}}",k=new RegExp(e(a.charAt(0))+"(?!"+e(a)+")"+e(a.substr(1))+"\\s*(.+?)\\s*"+e(b),"g")}function e(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function f(a){return s[a]}function g(a){return null==a?r:r+a.replace(q,f)}function h(a){a=a.replace(m,n);var b=a[0];if(-1===o.indexOf(b))return"r__.push("+a+");\n";var d=r;switch(a=a.substr(1),b){case"@":d="r__.push(e__("+a+"));\n";break;case"#":d=c(a)?"if("+a+"){\n":a.replace(p,function(a,b,c,d){return d=d||"k__","var "+d+", "+c+";\nfor("+d+" in t__"+b+"){\nif(!t__"+b+".hasOwnProperty("+d+")) return;\n"+c+" = t__"+b+"["+d+"];\n"});break;case"^":d=a?"}else if("+a+"){\n":"}else{\n";break;case"/":d="}\n";break;case">":d=a.replace(/^(\w+)\s(.+)$/,function(a,b,c){return b=b.indexOf("-")>-1?'["'+b+'"]':"."+b,"r__.push(eoraptor"+b+".render("+c+"));\n"});break;case"!":}return d}function i(a){return a!=r?'r__.push("'+a.replace(/"/g,'\\"')+'");\n':r}function j(){for(var a,c=document.getElementsByTagName("script"),d=0,e=c.length;e>d;d++)a=c[d],!a.getAttribute("compiled")&&a.id&&a.innerHTML&&"text/x-eoraptor"===a.type&&(b(a.id,t(a.innerHTML)),a.setAttribute("compiled","1"))}var k=/\{(?!\{\{)\{\s*(.+?)\s*\}\}/g,l={name:"eoraptor.js",version:"0.1.1",compile:b,escape:g,extract:j,setDelimiter:d},m=/\bthis\b/g,n="t__",o="#^/@!>",p=/^t__(.+?)\s(\w+)\s?(\w+)?.*$/,q=/[&<>"']/g,r="",s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},t=r.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s+/,r).replace(/\s+$/,r)},u=/[\[\]]/g,v=/(?:"(.*?)")/g,w=/(?:'(.*?)')/g,x=/(\[.*?\])/g,y=/(\(.*?\))/g,z=/^[^\s]+\s*([!=><]{1,3}\s*[^\s]+)?$/,A=function(a,b){return b.replace(u,r)};"undefined"!=typeof module&&module.exports?module.exports=l:"function"==typeof define&&define.amd?define("eoraptor",[],function(){return l}):a.eoraptor=l}(this);